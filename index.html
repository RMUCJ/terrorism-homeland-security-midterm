<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Practice Midterm – Terrorism & Homeland Security</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=IBM+Plex+Mono:wght@400;600&family=IBM+Plex+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0d0f14;
    --surface: #13161e;
    --surface2: #1a1e2a;
    --border: #252a38;
    --accent: #c8a96e;
    --accent2: #4a7fa5;
    --correct: #3a7d5c;
    --wrong: #8b3a3a;
    --text: #dde3ef;
    --muted: #6b7494;
    --mono: 'IBM Plex Mono', monospace;
    --sans: 'IBM Plex Sans', sans-serif;
    --display: 'Playfair Display', serif;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: var(--sans);
    font-weight: 300;
    min-height: 100vh;
    line-height: 1.7;
  }

  /* ── HEADER ── */
  header {
    border-bottom: 1px solid var(--border);
    padding: 3rem 2rem 2rem;
    max-width: 860px;
    margin: 0 auto;
  }
  .course-label {
    font-family: var(--mono);
    font-size: 0.7rem;
    letter-spacing: 0.2em;
    color: var(--accent);
    text-transform: uppercase;
    margin-bottom: 0.75rem;
  }
  header h1 {
    font-family: var(--display);
    font-size: clamp(1.8rem, 4vw, 2.8rem);
    font-weight: 900;
    line-height: 1.15;
    color: #fff;
  }
  header p {
    margin-top: 0.75rem;
    color: var(--muted);
    font-size: 0.9rem;
    font-family: var(--mono);
  }

  /* ── PROGRESS ── */
  .progress-wrap {
    max-width: 860px;
    margin: 2rem auto 0;
    padding: 0 2rem;
  }
  .progress-bar-bg {
    background: var(--border);
    height: 3px;
    border-radius: 2px;
    overflow: hidden;
  }
  .progress-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--accent2), var(--accent));
    width: 0%;
    transition: width 0.5s ease;
  }
  .progress-label {
    font-family: var(--mono);
    font-size: 0.7rem;
    color: var(--muted);
    margin-top: 0.4rem;
  }

  /* ── SECTION LABELS ── */
  .section-header {
    max-width: 860px;
    margin: 3rem auto 1.5rem;
    padding: 0 2rem;
    display: flex;
    align-items: center;
    gap: 1rem;
  }
  .section-badge {
    font-family: var(--mono);
    font-size: 0.65rem;
    letter-spacing: 0.15em;
    background: var(--accent);
    color: #000;
    padding: 0.2rem 0.6rem;
    font-weight: 600;
    flex-shrink: 0;
  }
  .section-title {
    font-family: var(--display);
    font-size: 1.3rem;
    color: #fff;
  }
  .section-meta {
    font-family: var(--mono);
    font-size: 0.7rem;
    color: var(--muted);
    margin-left: auto;
    flex-shrink: 0;
  }

  /* ── QUESTION CARD ── */
  .questions-wrap {
    max-width: 860px;
    margin: 0 auto;
    padding: 0 2rem 4rem;
  }

  .question-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-left: 3px solid var(--border);
    margin-bottom: 1.25rem;
    padding: 1.75rem 2rem;
    transition: border-color 0.3s;
    animation: fadeUp 0.4s ease both;
  }
  .question-card:hover { border-left-color: var(--accent2); }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(12px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  .question-card:nth-child(1)  { animation-delay: 0.02s; }
  .question-card:nth-child(2)  { animation-delay: 0.04s; }
  .question-card:nth-child(3)  { animation-delay: 0.06s; }
  .question-card:nth-child(4)  { animation-delay: 0.08s; }
  .question-card:nth-child(5)  { animation-delay: 0.10s; }
  .question-card:nth-child(6)  { animation-delay: 0.12s; }
  .question-card:nth-child(7)  { animation-delay: 0.14s; }
  .question-card:nth-child(8)  { animation-delay: 0.16s; }
  .question-card:nth-child(9)  { animation-delay: 0.18s; }
  .question-card:nth-child(10) { animation-delay: 0.20s; }

  .q-num {
    font-family: var(--mono);
    font-size: 0.65rem;
    color: var(--accent);
    letter-spacing: 0.1em;
    margin-bottom: 0.5rem;
  }
  .q-text {
    font-size: 0.975rem;
    color: #e8eaf2;
    font-weight: 400;
    margin-bottom: 1.2rem;
    line-height: 1.6;
  }

  /* ── OPTIONS ── */
  .options { display: flex; flex-direction: column; gap: 0.5rem; }
  .option {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 0.6rem 0.9rem;
    border: 1px solid var(--border);
    cursor: pointer;
    transition: all 0.2s;
    background: var(--surface2);
    font-size: 0.875rem;
    color: var(--muted);
    user-select: none;
  }
  .option:hover { border-color: var(--accent2); color: var(--text); background: #1e2436; }
  .option .letter {
    font-family: var(--mono);
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--accent2);
    flex-shrink: 0;
    padding-top: 0.05rem;
  }

  /* States after selection */
  .option.correct  { border-color: var(--correct); background: rgba(58,125,92,0.15); color: #7ed4a9; }
  .option.correct .letter { color: #7ed4a9; }
  .option.wrong    { border-color: var(--wrong);   background: rgba(139,58,58,0.15);  color: #e07070; }
  .option.wrong .letter { color: #e07070; }
  .option.disabled { pointer-events: none; }

  /* ── REVEAL BADGE ── */
  .answer-reveal {
    margin-top: 1rem;
    padding: 0.6rem 1rem;
    background: rgba(200,169,110,0.08);
    border-left: 2px solid var(--accent);
    font-family: var(--mono);
    font-size: 0.75rem;
    color: var(--accent);
    display: none;
  }
  .answer-reveal.show { display: block; animation: fadeUp 0.3s ease; }

  /* ── SCORE BOX ── */
  .score-box {
    background: var(--surface);
    border: 1px solid var(--border);
    border-top: 3px solid var(--accent);
    max-width: 860px;
    margin: 0 auto 3rem;
    padding: 2rem;
    text-align: center;
    display: none;
  }
  .score-box.show { display: block; animation: fadeUp 0.5s ease; }
  .score-number {
    font-family: var(--display);
    font-size: 3.5rem;
    font-weight: 900;
    color: var(--accent);
    line-height: 1;
  }
  .score-label {
    font-family: var(--mono);
    font-size: 0.75rem;
    color: var(--muted);
    margin-top: 0.5rem;
  }

  /* ── ESSAY CARDS ── */
  .essay-card {
    background: var(--surface);
    border: 1px solid var(--border);
    margin-bottom: 1.25rem;
    animation: fadeUp 0.4s ease both;
  }
  .essay-prompt {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.5rem 1.75rem;
    cursor: pointer;
    transition: background 0.2s;
  }
  .essay-prompt:hover { background: var(--surface2); }
  .essay-num {
    font-family: var(--mono);
    font-size: 0.65rem;
    color: var(--accent2);
    letter-spacing: 0.1em;
    flex-shrink: 0;
    padding-top: 0.2rem;
  }
  .essay-q {
    font-size: 0.95rem;
    color: #e8eaf2;
    flex: 1;
    font-weight: 400;
  }
  .essay-toggle {
    font-family: var(--mono);
    font-size: 0.8rem;
    color: var(--accent);
    flex-shrink: 0;
    transition: transform 0.3s;
  }
  .essay-card.open .essay-toggle { transform: rotate(45deg); }
  .essay-guidance {
    border-top: 1px solid var(--border);
    padding: 1.5rem 1.75rem;
    display: none;
    background: rgba(74,127,165,0.04);
  }
  .essay-card.open .essay-guidance { display: block; animation: fadeUp 0.3s ease; }
  .guidance-label {
    font-family: var(--mono);
    font-size: 0.65rem;
    letter-spacing: 0.15em;
    color: var(--accent2);
    text-transform: uppercase;
    margin-bottom: 0.75rem;
  }
  .essay-guidance p {
    font-size: 0.875rem;
    color: var(--muted);
    line-height: 1.7;
    margin-bottom: 0.5rem;
  }
  .essay-guidance ul {
    padding-left: 1.2rem;
    margin-top: 0.5rem;
  }
  .essay-guidance ul li {
    font-size: 0.85rem;
    color: var(--muted);
    margin-bottom: 0.3rem;
  }

  /* ── SUBMIT BTN ── */
  .btn-wrap { max-width: 860px; margin: 0.5rem auto 2rem; padding: 0 2rem; }
  button.submit-btn {
    background: var(--accent);
    color: #000;
    border: none;
    padding: 0.75rem 2.5rem;
    font-family: var(--mono);
    font-size: 0.8rem;
    font-weight: 600;
    letter-spacing: 0.1em;
    cursor: pointer;
    transition: opacity 0.2s;
  }
  button.submit-btn:hover { opacity: 0.85; }

  /* ── RESET ── */
  button.reset-btn {
    background: transparent;
    color: var(--muted);
    border: 1px solid var(--border);
    padding: 0.6rem 1.5rem;
    font-family: var(--mono);
    font-size: 0.75rem;
    cursor: pointer;
    margin-top: 1rem;
    transition: all 0.2s;
  }
  button.reset-btn:hover { border-color: var(--accent); color: var(--accent); }

  footer {
    text-align: center;
    padding: 2rem;
    font-family: var(--mono);
    font-size: 0.7rem;
    color: var(--border);
    border-top: 1px solid var(--border);
    max-width: 860px;
    margin: 0 auto;
  }
</style>
</head>
<body>

<header>
  <div class="course-label">Robert Morris University · Terrorism &amp; Homeland Security</div>
  <h1>Practice Midterm Examination</h1>
  <p>// Select an answer to reveal the correct response — essays expand on click</p>
</header>

<div class="progress-wrap">
  <div class="progress-bar-bg"><div class="progress-bar-fill" id="progressBar"></div></div>
  <div class="progress-label" id="progressLabel">0 of 25 questions answered</div>
</div>

<!-- ════════════════ SECTION A ════════════════ -->
<div class="section-header">
  <span class="section-badge">Section A</span>
  <span class="section-title">Multiple Choice</span>
  <span class="section-meta">25 × 2 pts = 50 pts</span>
</div>

<div class="questions-wrap" id="mcWrap"></div>

<div class="btn-wrap">
  <button class="submit-btn" onclick="submitQuiz()">Calculate My Score</button>
</div>

<div class="score-box" id="scoreBox">
  <div class="score-number" id="scoreNum">–</div>
  <div class="score-label" id="scoreLabel"></div>
  <br>
  <button class="reset-btn" onclick="resetQuiz()">↺ Reset &amp; Try Again</button>
</div>

<!-- ════════════════ SECTION B ════════════════ -->
<div class="section-header">
  <span class="section-badge">Section B</span>
  <span class="section-title">Short Answer</span>
  <span class="section-meta">Choose 3 of 4 · 10 pts each = 30 pts</span>
</div>
<div class="questions-wrap" id="saWrap"></div>

<!-- ════════════════ SECTION C ════════════════ -->
<div class="section-header">
  <span class="section-badge">Section C</span>
  <span class="section-title">Essay</span>
  <span class="section-meta">Choose 1 of 2 · 20 pts</span>
</div>
<div class="questions-wrap" id="essayWrap"></div>

<footer>Practice copy — not for distribution as a graded assessment</footer>

<script>
// ── DATA ──────────────────────────────────────────
const mcqs = [
  { q:"A key reason terrorism is difficult to define is that:", opts:["It is always religiously motivated","Definitions include political and moral judgments","It only occurs in democracies","It is identical to conventional war"], ans:1 },
  { q:"A definition element most commonly included in academic definitions of terrorism is:", opts:["Use or threat of violence toward an audience beyond the immediate victim","Use of uniforms and formal ranks","Control of territory as the primary goal","State monopoly on force"], ans:0 },
  { q:"A core measurement challenge in terrorism research is:", opts:["All incidents are reported equally across the world","Terrorism is easy to observe but hard to code consistently","Terrorism has no political goals","Terrorism never involves messaging"], ans:1 },
  { q:"Rapoport's 'waves' model is best understood as:", opts:["A list of terrorist groups by size","A cycle of global energy prices","A periodization framework linking terrorism to global trends","A legal definition used by courts"], ans:2 },
  { q:"One limitation of the 'waves' model is that it can:", opts:["Force diverse cases into overly neat categories","Eliminate the role of ideology entirely","Prove intent beyond reasonable doubt","Replace case study methods completely"], ans:0 },
  { q:"According to strategy frameworks, terrorism is often:", opts:["Random violence without audiences","A form of signaling and coercion aimed at wider audiences","The same as ordinary crime","Only effective when it defeats an army"], ans:1 },
  { q:"In Kydd and Walter's framework, 'provocation' generally aims to:", opts:["Reduce state overreaction by calming tensions","Trigger an excessive response to polarize publics","Make a state surrender immediately","Replace ideology with economics"], ans:1 },
  { q:"'Outbidding' is most associated with:", opts:["Competing groups trying to appear more committed than rivals","Negotiation and compromise signaling","Corporate fraud and financial crime","Natural disasters and emergency management"], ans:0 },
  { q:"A key distinction between 'strategy' and 'tactics' is:", opts:["Tactics are political goals; strategy is tools","Strategy is the mechanism to reach goals; tactics are methods used","Strategy is always violent; tactics are always peaceful","Strategy is for states only"], ans:1 },
  { q:"A careful root-cause analysis should separate:", opts:["Weather, geography, and movies","Drivers, enabling conditions, and triggers","Elections, sports, and public holidays","Fear, anger, and sadness"], ans:1 },
  { q:"A common analytic error is to treat 'explanation' as:", opts:["A denial of harm","A justification of harm","A requirement of law","A synonym for data"], ans:1 },
  { q:"A typical hallmark of many terrorist campaigns is:", opts:["Direct battlefield victory as the main goal","Strategic communication to shape perception and behavior","Elimination of all politics","Total secrecy with no messaging"], ans:1 },
  { q:"A major post-9/11 homeland security change involved:", opts:["Eliminating interagency coordination entirely","Increased attention to information sharing and prevention structures","Abandoning risk management","Ending all oversight"], ans:1 },
  { q:"A strong definition of terrorism should be:", opts:["Purely emotional and flexible","Defensible, consistent, and purpose-aware","Designed to target political opponents","Unrelated to law or policy"], ans:1 },
  { q:"The GTD Codebook is best described as:", opts:["A legal textbook for prosecutors","A coding guide for terrorism incident data","A news aggregator","A classified intelligence product"], ans:1 },
  { q:"Terrorism often 'works' strategically by:", opts:["Eliminating attention and fear","Influencing audiences beyond the immediate target","Making societies less polarized","Ending all media coverage"], ans:1 },
  { q:"One reason groups adopt terrorism rather than conventional conflict is:", opts:["The state always invites them to negotiate","Asymmetric power conditions make other options difficult","Terrorism guarantees victory","Terrorism requires no organization"], ans:1 },
  { q:"A key homeland security challenge is balancing:", opts:["Security objectives with civil liberties and legitimacy","Weather patterns with airport design","Sports rivalries with intelligence assessments","Music preferences with law enforcement budgets"], ans:0 },
  { q:"A useful analytic concept for uncertainty is:", opts:["Pretending you are certain to appear confident","Stating a confidence level and key assumptions","Ignoring alternative explanations","Removing evidence that complicates conclusions"], ans:1 },
  { q:"A key vulnerability in terrorism research is:", opts:["Biased sampling and reporting effects","Too much perfect information","No need for conceptual clarity","Total absence of strategy"], ans:0 },
  { q:"'Audience costs' in terrorism analysis refers to:", opts:["Ticket prices for public events","How different audiences respond to signals and threats","The cost of printing posters","The cost of gasoline"], ans:1 },
  { q:"One reason media matters to terrorism is that it can:", opts:["Remove the political dimension completely","Amplify or distort intended messages and fear effects","Guarantee accurate interpretation always","Prevent polarization automatically"], ans:1 },
  { q:"A scholarly definition of terrorism typically avoids:", opts:["Normative judgment about whether the cause is 'good'","Evidence","Context","Analysis"], ans:0 },
  { q:"A 'single-cause' theory of terrorism is usually weak because:", opts:["Terrorism always has one cause","Political violence is multi-causal and context dependent","Data is unnecessary","Ideology never matters"], ans:1 },
  { q:"The most responsible way to talk about terrorism is to:", opts:["Use precise terms and evidence, acknowledging uncertainty","Use generalizations to simplify everything","Avoid definitions entirely","Treat all cases as identical"], ans:0 },
];

const shortAnswers = [
  {
    q: "Explain why definitions of terrorism shape what governments prioritize.",
    guidance: "Full-credit responses should explain the definitional linkage to policy action — e.g., if a definition requires 'political motive,' governments may not classify certain attacks as terrorism, affecting resource allocation, legal tools, and public communication. Reference how state vs. non-state actor distinctions or inclusion of 'domestic' vs. 'international' terrorism changes what agencies are funded and what laws apply. A strong answer connects definition → classification → policy response.",
    bullets: ["Discuss at least one specific element of a terrorism definition (e.g., intent, audience, non-state actor)","Show how that element influences what gets counted as terrorism","Link to a concrete policy or agency response","Use course terminology accurately"]
  },
  {
    q: "Describe one way the waves framework helps analysis and one way it can mislead.",
    guidance: "Students should demonstrate they understand Rapoport's periodization model and can critically evaluate it. A strength might be that it reveals global patterns, ideological shifts, and generational cycles. A weakness is that it can force diverse cases into overly tidy categories or obscure local drivers. Strong answers avoid simply listing the waves — they analyze the framework's utility and limits.",
    bullets: ["Name the waves framework correctly (Rapoport)","Give a concrete example of how it aids understanding","Give a concrete example of where it oversimplifies or misleads","Conclude with a nuanced evaluative statement"]
  },
  {
    q: "Distinguish drivers, enabling conditions, and triggers in a generic example.",
    guidance: "Students should show they understand the three-part causal structure: drivers are underlying grievances or structural factors (e.g., economic marginalization, identity threat); enabling conditions are factors that make violence possible (e.g., weak state institutions, weapons access, radicalization networks); triggers are the proximate event that precipitates action (e.g., a specific political event, arrest of a leader). A generic example might be: a disenfranchised ethnic minority (driver) in a state with poor governance and arms availability (enabling) reacts to a disputed election result (trigger).",
    bullets: ["Define all three terms accurately","Provide a clear example for each","Avoid conflating 'cause' with 'trigger'","Show why distinguishing them matters for prevention policy"]
  },
  {
    q: "Define provocation and explain how overreaction can serve a terrorist strategy.",
    guidance: "Students should accurately define provocation as a strategic mechanism where a terrorist group attacks to elicit a disproportionate state response. That overreaction (e.g., mass arrests, collective punishment, civil liberties restrictions) alienates moderate populations, drives recruitment, and delegitimizes the state. Kydd and Walter's framework should be referenced. A classic historical example (e.g., IRA/British overreaction, Al-Qaeda/post-9/11 response) would strengthen the answer.",
    bullets: ["Define provocation as a deliberate strategic mechanism","Explain the intended chain of consequences","Reference Kydd and Walter or course frameworks","Include an example of overreaction and its effects"]
  }
];

const essays = [
  {
    label: "Option A",
    q: "'Terrorism is more about audiences than targets.' Defend or critique this claim using at least two course frameworks.",
    guidance: "This question tests whether students can apply multiple analytical frameworks to a central thesis about terrorism's communicative nature. A strong response will engage with the claim seriously — neither simply agreeing nor dismissing it. Students might use the strategic communication framework (terrorism as signaling), Kydd and Walter's mechanisms (provocation, outbidding), and/or the 'audience costs' concept. A full-credit essay will have a clear thesis, structured paragraphs, use course-specific terminology accurately, and acknowledge counterarguments (e.g., cases where targets matter as much as or more than audiences).",
    bullets: [
      "Clear thesis statement defending or critiquing the claim",
      "Framework 1 applied with specificity (e.g., signaling/coercion model)",
      "Framework 2 applied with specificity (e.g., Kydd & Walter mechanisms)",
      "Acknowledgment of counterarguments or limitations",
      "Conclusion that connects back to the thesis",
      "Accurate use of course terminology throughout"
    ]
  },
  {
    label: "Option B",
    q: "Explain how measurement choices (datasets, definitions, coding) can change policy decisions. Include one example of a misleading conclusion.",
    guidance: "This question asks students to connect methodological decisions to real-world policy consequences. A strong response will explain how dataset selection (e.g., GTD vs. RAND vs. ITERATE), definitional scope (state vs. non-state, domestic vs. international), and coding rules (what counts as a 'terrorist incident') all shape the picture of terrorism that analysts and policymakers receive. A misleading conclusion example might be: overrepresentation of Middle Eastern attacks in a Western-focused dataset leading to skewed threat prioritization, or inconsistent coding of 'motive' inflating or deflating attack counts.",
    bullets: [
      "Explain at least two measurement choices (e.g., dataset selection, definition scope, coding rules)",
      "Show how each choice shapes the data output",
      "Provide a clear example of a potentially misleading conclusion",
      "Connect to at least one real or hypothetical policy consequence",
      "Demonstrate understanding of the GTD Codebook or similar source"
    ]
  }
];

// ── RENDER MC ─────────────────────────────────────
const mcWrap = document.getElementById('mcWrap');
let answered = 0;

mcqs.forEach((item, qi) => {
  const card = document.createElement('div');
  card.className = 'question-card';
  card.dataset.answered = 'false';
  card.innerHTML = `
    <div class="q-num">Q.${String(qi+1).padStart(2,'0')}</div>
    <div class="q-text">${item.q}</div>
    <div class="options">${
      item.opts.map((o,oi)=>`
        <div class="option" data-qi="${qi}" data-oi="${oi}">
          <span class="letter">${['A','B','C','D'][oi]}</span>
          <span>${o}</span>
        </div>`).join('')
    }</div>
    <div class="answer-reveal" id="reveal-${qi}"></div>
  `;
  mcWrap.appendChild(card);
});

mcWrap.addEventListener('click', e => {
  const opt = e.target.closest('.option');
  if (!opt) return;
  const qi = +opt.dataset.qi;
  const oi = +opt.dataset.oi;
  const card = opt.closest('.question-card');
  if (card.dataset.answered === 'true') return;

  card.dataset.answered = 'true';
  card.dataset.selected = oi;
  answered++;
  updateProgress();

  const allOpts = card.querySelectorAll('.option');
  allOpts.forEach(o => o.classList.add('disabled'));

  const correct = mcqs[qi].ans;
  allOpts[correct].classList.add('correct');
  if (oi !== correct) opt.classList.add('wrong');

  const reveal = document.getElementById(`reveal-${qi}`);
  if (oi === correct) {
    reveal.textContent = '✓ Correct — ' + ['A','B','C','D'][correct] + '. ' + mcqs[qi].opts[correct];
  } else {
    reveal.textContent = '✗ Incorrect — Correct answer: ' + ['A','B','C','D'][correct] + '. ' + mcqs[qi].opts[correct];
  }
  reveal.classList.add('show');
});

function updateProgress() {
  const pct = (answered / mcqs.length * 100).toFixed(0);
  document.getElementById('progressBar').style.width = pct + '%';
  document.getElementById('progressLabel').textContent = `${answered} of ${mcqs.length} questions answered`;
}

function submitQuiz() {
  let correct = 0;
  mcqs.forEach((item, qi) => {
    const card = mcWrap.children[qi];
    if (card.dataset.answered === 'true' && +card.dataset.selected === item.ans) correct++;
  });
  const box = document.getElementById('scoreBox');
  box.classList.add('show');
  document.getElementById('scoreNum').textContent = correct + ' / 25';
  const pts = correct * 2;
  document.getElementById('scoreLabel').textContent = `${pts} points · ${(pts/50*100).toFixed(0)}% of Section A`;
  box.scrollIntoView({ behavior:'smooth', block:'center' });
}

function resetQuiz() {
  answered = 0;
  updateProgress();
  mcWrap.querySelectorAll('.question-card').forEach(card => {
    card.dataset.answered = 'false';
    card.dataset.selected = '';
    card.querySelectorAll('.option').forEach(o => {
      o.classList.remove('correct','wrong','disabled');
    });
    card.querySelectorAll('.answer-reveal').forEach(r => {
      r.classList.remove('show');
      r.textContent = '';
    });
  });
  document.getElementById('scoreBox').classList.remove('show');
  window.scrollTo({ top: 0, behavior:'smooth' });
}

// ── RENDER SHORT ANSWER ───────────────────────────
const saWrap = document.getElementById('saWrap');
shortAnswers.forEach((item, i) => {
  const card = document.createElement('div');
  card.className = 'essay-card';
  card.innerHTML = `
    <div class="essay-prompt" onclick="toggleEssay(this.parentElement)">
      <span class="essay-num">SA.0${i+1}</span>
      <span class="essay-q">${item.q}</span>
      <span class="essay-toggle">+</span>
    </div>
    <div class="essay-guidance">
      <div class="guidance-label">// What a full-credit answer includes</div>
      <p>${item.guidance}</p>
      <ul>${item.bullets.map(b=>`<li>${b}</li>`).join('')}</ul>
    </div>`;
  saWrap.appendChild(card);
});

// ── RENDER ESSAY ──────────────────────────────────
const essayWrap = document.getElementById('essayWrap');
essays.forEach((item, i) => {
  const card = document.createElement('div');
  card.className = 'essay-card';
  card.innerHTML = `
    <div class="essay-prompt" onclick="toggleEssay(this.parentElement)">
      <span class="essay-num">${item.label}</span>
      <span class="essay-q">${item.q}</span>
      <span class="essay-toggle">+</span>
    </div>
    <div class="essay-guidance">
      <div class="guidance-label">// What a full-credit essay includes</div>
      <p>${item.guidance}</p>
      <ul>${item.bullets.map(b=>`<li>${b}</li>`).join('')}</ul>
    </div>`;
  essayWrap.appendChild(card);
});

function toggleEssay(card) {
  card.classList.toggle('open');
}
</script>
</body>
</html>
